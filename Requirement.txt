Testing Scenarios
To ensure the Kubernetes deployment is working as expected, perform the following test
cases:
1. Application Availability Tests
âœ… Test: Check if the application is accessible via the Kubernetes service.
ğŸ”¹ Command:
minikube kubectl get services
curl http://<EXTERNAL-IP>:<PORT>
ğŸ”¹ Expected Output: Should return the homepage or API response of the application.
2. Scaling Tests
âœ… Test: Trigger high CPU usage to see if the Horizontal Pod Autoscaler (HPA) scales up
pods.
ğŸ”¹ Command:
minikube kubectl get hpa
minikube kubectl run --rm -it --image=busybox stress-test -- /bin/sh
Inside BusyBox shell:
while true; do wget -q -O- http://<SERVICE-IP>:<PORT>; done
ğŸ”¹ Expected Output: Number of pods should increase dynamically.
ğŸ”¹ Verification:
minikube kubectl get pods -w
3. Rolling Update & Rollback Test
âœ… Test: Perform a rolling update and verify zero downtime.
ğŸ”¹ Command:
minikube kubectl set image deployment/<DEPLOYMENT_NAME> <CONTAINER_NAME>=new-
image:v2
ğŸ”¹ Expected Output: New version is deployed while keeping the app running.âœ… Test: Rollback to the previous version in case of failure.
ğŸ”¹ Command:
minikube kubectl rollout undo deployment/<DEPLOYMENT_NAME>
ğŸ”¹ Expected Output: Application reverts to the previous working version.
4. Pod Failure and Self-Healing Test
âœ… Test: Manually delete a pod and check if Kubernetes automatically recreates it.
ğŸ”¹ Command:
minikube kubectl delete pod <POD_NAME>
ğŸ”¹ Expected Output: A new pod should be automatically created.
ğŸ”¹ Verification:
minikube kubectl get pods -w
5. Persistent Storage Test (If Implemented)
âœ… Test: Verify if data persists after pod restart.
ğŸ”¹ Steps:
Store data in the mounted volume inside the pod.
Delete the pod and check if data is retained.
ğŸ”¹ Command:
minikube kubectl delete pod <POD_NAME>
minikube kubectl get pods -w
ğŸ”¹ Expected Output: New pod should start with the same data.
6. Logging Test
âœ… Test: Check if application logs are available.
ğŸ”¹ Command:
minikube kubectl logs <POD_NAME>
ğŸ”¹ Expected Output: Should display application logs.